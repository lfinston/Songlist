%% filecrds.tex

%% * Copyright and License.

%% This file is part of songlist, a package for keeping track of songs. 
%% Copyright (C) 2021 Laurence D. Finston 

%% songlist is free software; you can redistribute it and/or modify 
%% it under the terms of the GNU General Public License as published by 
%% the Free Software Foundation; either version 3 of the License, or 
%% (at your option) any later version. 

%% songlist is distributed in the hope that it will be useful, 
%% but WITHOUT ANY WARRANTY; without even the implied warranty of 
%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
%% GNU General Public License for more details. 

%% You should have received a copy of the GNU General Public License 
%% along with songlist; if not, write to the Free Software 
%% Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA 

%% Please send bug reports to Laurence.Finston@gmx.de 

%% \input eplain

%% \font\small=cmr8
%% \font\smalltt=cmtt8
%% \font\medium=cmr10 scaled \magstephalf
%% \font\mediumbx=cmbx10 scaled \magstephalf
%% \font\mediumit=cmti10 scaled \magstephalf
%% \font\mediumtt=cmtt10 scaled \magstephalf
%% \font\large=cmr12
%% \font\largebx=cmbx12
%% \font\largeit=cmti12
%% \font\largett=cmtt12
%% \font\Largebx=cmbx12 scaled \magstephalf
%% \font\huge=cmr12 scaled \magstep2
%% \font\hugebx=cmbx12 scaled \magstep2
%% \font\mediumsy=cmsy10 scaled \magstephalf
%% \font\mediumcy=cmcyr10 scaled \magstephalf

\headline={}
\footline={}

%% \special{papersize=210mm, 297mm}

\hsize=210mm
\vsize=297mm

%% \showthe\voffset
%% \showthe\hoffset

\advance\voffset by -\voffset
\advance\hoffset by -\hoffset

\advance\voffset by -1in
\advance\hoffset by -1in

%% \showthe\voffset
%% \showthe\hoffset

\newskip\titleskip
\titleskip=8pt

\newskip\sourceskip
\sourceskip=8pt

\newskip\posttitleskip
\posttitleskip=0pt

\newskip\basichskip
\basichskip=2em

\newskip\copyrightskip
\copyrightskip=6pt

\newskip\composerskip
\composerskip=4pt

\newdimen\wmdimen
\setbox0=\hbox{{\large Words:  }}
\wmdimen=\wd0

%% \newskip\savebaselineskip
%% \newskip\saveparskip

%% \savebaselineskip=\baselineskip
%% \saveparskip=\parskip

\newif\ifalltex
\alltexfalse

\newif\iffilecards
\filecardstrue

\def\A{%% Rules for DIN A7 "file cards"
%%
\vtop to 0pt{\vbox to \vsize{\hbox to 0pt{\hskip\dimen0
\vbox to 0pt{\hrule width 1.5pt height .5\vsize depth .5\vsize\vss}\hss
}\hbox to 0pt{\vbox to 0pt{\vskip.5\vsize\hrule width \hsize height .75pt depth .75pt\vss}\hss
}\hbox to 0pt{\vbox to 0pt{\vskip.25\vsize\hrule width \hsize height .75pt depth .75pt\vss}\hss
}\hbox to 0pt{\vbox to 0pt{\vskip.75\vsize\hrule width \hsize height .75pt depth .75pt\vss}\hss
}\vss
}\vss}\vskip-\vsize\vskip.25cm}

\def\B#1#2#3#4#5#6#7#8#9{\begingroup
\def\bf{\largebx}
\setbox4=\hbox{#4}\setbox5=\hbox{#5}\setbox6=\hbox{#6}\setbox7=\hbox{#7}\setbox8=\hbox{#8}
\vbox to 0pt{\vskip#1\vskip.25cm
\leftline{\hskip#2\hskip\basichskip {\Largebx #3}}
\ifnum#9>0\vskip-12pt\line{\hskip.5\hsize\hskip-1.5em{\Largebx #9}\hss}\fi
\ifdim\wd4>0pt
\vskip12pt
\leftline{\hskip#2\hskip\basichskip #4}
\fi
\ifdim\wd5>0pt
\vskip12pt
\leftline{\hskip#2\hskip\basichskip #5}
\fi
\ifdim\wd6>0pt
\vskip12pt
\leftline{\hskip#2\hskip\basichskip #6}
\fi
\ifdim\wd7>0pt
\vskip12pt
\leftline{\hskip#2\hskip\basichskip #7}
\fi
\ifdim\wd8>0pt
\vskip12pt
\leftline{\hskip#2\hskip\basichskip{\large #8}}
\fi
\vss}\endgroup\global\advance\filecardctr by 1}

\newskip\Chskip

\newdimen\cardwd
\cardwd=105mm
\advance\cardwd by -\basichskip

%% !! START HERE!  LDF 2021.08.14.  Added two arguments to make an erroneous "0" disappear.
%% Check how this macro works and make sure it works right.

\def\C#1#2#3#4#5#6#7#8{\Chskip=#2\vskip#1\vskip.25cm
\setbox0=\hbox{#5}\leftline{\hskip#2\hskip\basichskip
\hbox to \cardwd{{\Largebx #3\hss #4\ifdim\wd0>0pt{\space}#5\fi}\hskip\basichskip}\hss}
\vskip12pt\global\advance\filecardctr by 1}



\catcode`\@=\active
\def@#1{{\"#1}}

\parskip=0pt
\parindent=0pt
\baselineskip=0pt
\dimen0=.5\hsize
\advance\dimen0 by -.75pt

%% Songs

\large
\input sub_filecrds.tex

\eject

\endinput



%% (progn (plain-tex-mode) (auto-fill-mode 0))

%% Local Variables:
%% mode:plain-TeX
%% eval:(auto-fill-mode 0)
%% End:
